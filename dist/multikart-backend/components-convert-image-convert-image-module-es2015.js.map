{"version":3,"sources":["./src/app/components/convert-image/convert-image.component.ts","./src/app/components/convert-image/convert-image.component.html","./src/app/components/convert-image/convert-image-routing.module.ts","./src/app/components/convert-image/convert-image.module.ts"],"names":[],"mappings":"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","file":"components-convert-image-convert-image-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DropzoneConfigInterface } from 'ngx-dropzone-wrapper';\ndeclare var THREEx:any;\n@Component({\n  selector: 'app-convert-image',\n  templateUrl: './convert-image.component.html',\n  styleUrls: ['./convert-image.component.scss']\n})\nexport class ConvertImageComponent implements OnInit {\n  fullMarkerURL:any;\n  imageName=null;\n  innerImageURL=\"assets/images/Barcode1.PNG\";\n  selectedFile: File = null;\n \npublic onUploadInit(args: any): void { }\n  \npublic onUploadError(args: any): void { }\n\npublic onUploadSuccess(args: any): void {    this.selectedFile = args[0];\n  localStorage.setItem('base64',args[0].dataURL);\nconsole.log(args[0]);\nvar file = args[0];\nvar c :any;\nvar reader = new FileReader();\n\t\treader.onload = function(event){\n\t\tc = reader.result\n    };\n    this.innerImageURL=c;\n    this. updateFullMarkerImage()\n\nthis.fullMarkerURL=args[0].dataURL;\n\t\tthis.imageName = file.name\n\t\tthis.imageName = this.imageName.substring(0, this.imageName.lastIndexOf('.')) || this.imageName\n}\n\npublic config1: DropzoneConfigInterface = {\n  clickable: true,\n  maxFiles: 1,\n  autoReset: null,\n  errorReset: null,\n  cancelReset: null\n};\n  constructor() { }\n\n\n\ndownloadImage(){\n\tvar patternString= localStorage.getItem('markerUrl');\n \n    var domElement = window.document.createElement('a');\n\t\tdomElement.href = patternString;\n\t\tdomElement.download = \"pattern-\" + (this.imageName || 'marker') + '.png';\n\t\tdocument.body.appendChild(domElement)\n\t\tdomElement.click();\n\t\tdocument.body.removeChild(domElement)\n  this.updateFullMarkerImage();\n}\n \ndownloadPattern(){\n\nvar patternString= localStorage.getItem('markerUrl');\n\n\n  THREEx.ArPatternFile.encodeImageURL(patternString, function onComplete(patternFileString){\n    THREEx.ArPatternFile.triggerDownload (patternFileString,\"pattern-marker.patt\");\n  })\n  THREEx.ArPatternFile.triggerDownload =  function(patternFileString, fileName = 'pattern-marker.patt'){\n    // tech from https://stackoverflow.com/questions/3665115/create-a-file-in-memory-for-user-to-download-not-through-server\n    var domElement = window.document.createElement('a');\n    domElement.href = window.URL.createObjectURL(new Blob([patternFileString], {type: 'text/plain'}));\n    domElement.download = fileName;\n    document.body.appendChild(domElement)\n    domElement.click();\n    document.body.removeChild(domElement)\n  }\n}\n\nupdateFullMarkerImage(){\n  \nTHREEx.ArPatternFile.encodeImageURL = function(imageURL,onComplete):any{\n\tvar image = new Image;\n\timage.onload = function(){\n\t\tvar patternFileString = THREEx.ArPatternFile.encodeImage(image)\n    onComplete(patternFileString)\n\t}\n  image.src = imageURL;\n  return image;\n\n}\nTHREEx.ArPatternFile.encodeImage = function(image){\n\t// copy image on canvas\n\tvar canvas = document.createElement('canvas');\n\tvar context = canvas.getContext('2d')\n\tcanvas.width = 16;\n\tcanvas.height = 16;\n\n\t// document.body.appendChild(canvas)\n\t// canvas.style.width = '200px'\n\n\n\tvar patternFileString = ''\n\tfor(var orientation = 0; orientation > -2*Math.PI; orientation -= Math.PI/2){\n\t\t// draw on canvas - honor orientation\n\t\tcontext.save();\n \t\tcontext.clearRect(0,0,canvas.width,canvas.height);\n\t\tcontext.translate(canvas.width/2,canvas.height/2);\n\t\tcontext.rotate(orientation);\n\t\tcontext.drawImage(image, -canvas.width/2,-canvas.height/2, canvas.width, canvas.height);\n\t\tcontext.restore();\n\n\t\t// get imageData\n\t\tvar imageData = context.getImageData(0, 0, canvas.width, canvas.height)\n\n\t\t// generate the patternFileString for this orientation\n\t\tif( orientation !== 0 )\tpatternFileString += '\\n'\n\t\t// NOTE bgr order and not rgb!!! so from 2 to 0\n\t\tfor(var channelOffset = 2; channelOffset >= 0; channelOffset--){\n\t\t\t// console.log('channelOffset', channelOffset)\n\t\t\tfor(var y = 0; y < imageData.height; y++){\n\t\t\t\tfor(var x = 0; x < imageData.width; x++){\n\n\t\t\t\t\tif( x !== 0 ) patternFileString += ' '\n\n\t\t\t\t\tvar offset = (y*imageData.width*4) + (x * 4) + channelOffset\n\t\t\t\t\tvar value = imageData.data[offset]\n\n\t\t\t\t\tpatternFileString += String(value).padStart(3);\n\t\t\t\t}\n\t\t\t\tpatternFileString += '\\n'\n\t\t\t}\n\t\t}\n\t}\n\n\treturn patternFileString\n}\n\nTHREEx.ArPatternFile.buildFullMarker =  function(innerImageURL, pattRatio, size, color,onComplete):any{\n\tvar whiteMargin = 0.1\n\tvar blackMargin = (1 - 2 * whiteMargin) * ((1-pattRatio)/2)\n\t// var blackMargin = 0.2\n\n\tvar innerMargin = whiteMargin + blackMargin\n\n\tvar canvas = document.createElement('canvas');\n\tvar context = canvas.getContext('2d')\n\tcanvas.width = canvas.height = size\n\n\tcontext.fillStyle = 'white';\n\tcontext.fillRect(0,0,canvas.width, canvas.height)\n\n\t// copy image on canvas\n\tcontext.fillStyle = color;\n\tcontext.fillRect(\n\t\twhiteMargin * canvas.width,\n\t\twhiteMargin * canvas.height,\n\t\tcanvas.width * (1-2*whiteMargin),\n\t\tcanvas.height * (1-2*whiteMargin)\n\t);\n\n\t// clear the area for innerImage (in case of transparent image)\n\tcontext.fillStyle = 'white';\n\tcontext.fillRect(\n\t\tinnerMargin * canvas.width,\n\t\tinnerMargin * canvas.height,\n\t\tcanvas.width * (1-2*innerMargin),\n\t\tcanvas.height * (1-2*innerMargin)\n\t);\n\n\n\t// display innerImage in the middle\n\tvar innerImage = document.createElement('img')\n\tinnerImage.addEventListener('load', function(){\n\t\t// draw innerImage\n\t\tcontext.drawImage(innerImage,\n\t\t\tinnerMargin * canvas.width,\n\t\t\tinnerMargin * canvas.height,\n\t\t\tcanvas.width * (1-2*innerMargin),\n\t\t\tcanvas.height * (1-2*innerMargin)\n\t\t);\n\n\t\tvar imageUrl = canvas.toDataURL()\n\t\tonComplete(imageUrl)\n\t})\n\tinnerImage.src = innerImageURL\n}\n  var patternRatio = document.querySelector('#patternRatioSlider')\n  var imageSize = document.querySelector('#imageSize')\n  var borderColor = document.querySelector('#borderColor').nodeValue\n  this.innerImageURL=localStorage.getItem('base64');\n  function hexaColor(color) {\n    return /^#[0-9A-F]{6}$/i.test(color);\n  };\n\n  THREEx.ArPatternFile.buildFullMarker(this.innerImageURL, 0.50, 512\t, \"black\", function onComplete(markerUrl){\n\t  if (markerUrl){\n localStorage.setItem('markerUrl',markerUrl);}\n\tconsole.log(markerUrl);\n\n\tvar fullMarkerImage = document.createElement('img')\n\tfullMarkerImage.src = markerUrl\n\n\t// put fullMarkerImage into #imageContainer\n\tvar container = document.querySelector('#imageContainer')\n\twhile (container.firstChild) container.removeChild(container.firstChild);\n\tcontainer.appendChild(fullMarkerImage)\n})\n  var s = new Option().style;\n  s.color = borderColor;\n    if (borderColor === '' || (s.color != borderColor && !hexaColor(borderColor))) {\n    // if color not valid, use black\n    borderColor = 'black';\n  }\n\n}\n\n\n  ngOnInit(): void {\n    this.updateFullMarkerImage();\n  }\n\n}\n","<!DOCTYPE html>\n<title></title>\n<!-- include mdl -->\n<link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'>\n<link rel='stylesheet' href='https://code.getmdl.io/1.3.0/material.indigo-pink.min.css'>\n<script defer src='https://code.getmdl.io/1.3.0/material.min.js'></script>\n<link href='https://fonts.googleapis.com/icon?family=Material+Icons' rel='stylesheet'>\n<script src='../../vendor/three.js/build/three.js'></script>\n<script src='../../vendor/three.js/examples/js/libs/stats.min.js'></script>\n<!-- jsartookit -->\n<script src='../../../vendor/jsartoolkit5/build/artoolkit.min.js'></script>\n<script src='../../../vendor/jsartoolkit5/js/artoolkit.api.js'></script>\n<!-- include threex.artoolkit -->\n<script src='../../../src/threex/threex-artoolkitsource.js'></script>\n<script src='../../../src/threex/threex-artoolkitcontext.js'></script>\n<script src='../../../src/threex/threex-artoolkitprofile.js'></script>\n<script src='../../../src/threex/threex-arbasecontrols.js'></script>\n<script src='../../../src/threex/threex-armarkercontrols.js'></script>\n<script src='../../../src/threex/threex-arsmoothedcontrols.js'></script>\n<script>THREEx.ArToolkitContext.baseURL = '../../../'</script>\n<!-- Include pdfMake - http://pdfmake.org/ -->\n<script src='../../vendor/pdfMake/pdfmake.min.js'></script>\n<script src='../../vendor/pdfMake/vfs_fonts.js'></script>\n\n<!-- include THREEx.ArPatternFile -->\n\n<style media='screen'>\n\tbody {\n\t\tfont-family: arial;\n\t\tbackground-color: #eee;\n\t}\n\th1 {\n\t\ttext-align: center;\n\t\tfont-size: 500%;\n\t}\n\tdiv.mdl-cell {\n\t\ttext-align: center;\n\t}\n\n\th1 a {\n\t\ttext-decoration: none;\n\t}\n\th1 a:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\t#imageContainer img {\n\t\twidth: 100%;\n\t\tmax-width: 512px;\n\t}\n\n\t#topRightButtons {\n\t\tposition: fixed;\n\t\ttop: 1em;\n\t\tright: 1em;\n\t}\n</style>\n<body >\n\n\n<!-- *********************************************************************** -->\n<!-- *********************************************************************** -->\n<!-- *********************************************************************** -->\n<div id='topRightButtons'>\n\t<button id=\"show-info\" class=\"mdl-button mdl-js-button mdl-button--fab mdl-button--colored\">\n\t\t<i class=\"material-icons\">info_outline</i>\n\t</button>\n</div>\n<dialog style='width:400px' id='dialog-info' class=\"mdl-dialog\">\n\t<h4 class=\"mdl-dialog__title\">Welcome!</h4>\n\t<div class=\"mdl-dialog__content\">\n\t\tDetails on how to pick the inner image can be found <a target='_blank' href='https://artoolkit.org/documentation/doku.php?id=3_Marker_Training:marker_training'>here</a>\n\t</div>\n\t<div class=\"mdl-dialog__actions\">\n\t\t<button type=\"button\" class=\"mdl-button\">OK</button>\n\t</div>\n</dialog>\n<script>\n\tvar dialogElement = document.querySelector('#dialog-info')\n\tif (! dialogElement.showModal) {\n\t\tdialogElementPolyfill.registerDialog(dialogElement)\n\t}\n\tdialogElement.querySelector('.mdl-dialog__actions button').addEventListener('click', function() {\n\t\tdialogElement.close()\n\t})\n\n\tvar showDialogButton = document.querySelector('#show-info')\n\tshowDialogButton.addEventListener('click', function() {\n\t\tdialogElement.showModal()\n\t})\n</script>\n\n<!-- *********************************************************************** -->\n<!-- *********************************************************************** -->\n<!-- *********************************************************************** -->\n<div class='mdl-grid'>\n\t<div class='mdl-cell mdl-cell--4-col'>\n\t\t<div class=\"card-body dropzone-custom p-0\">\n\t\t\t<div class=\"dropzone dropzone-primary\" [dropzone]=\"config1\" (error)=\"onUploadError($event)\"\n\t\t\t\t(success)=\"onUploadSuccess($event)\">\n\t\t\t\t<div class=\"dz-message needsclick\">\n\t\t\t\t\t<i class=\"fa fa-cloud-upload\"></i>\n\t\t\t\t\t<h4 class=\"mb-0 f-w-600\">Upload your Marker</h4>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class='mdl-tooltip' for='buttonUpload'>\n\t\t\tUpload the image to put inside the marker\n\t\t</div>\n\n\t\t<div style=\"justify-content: center\" class='mdl-grid'>\n\t\t\t\t<div class='mdl-cell mdl-cell--12-col'>\n\t\t\t\t<label class=\"mdl-js-ripple-effect\" for=\"patternRatioSlider\">\n\t\t\t\t\t<span class=\"\">Pattern Ratio 0.50</span>\n\t\t\t\t\t<input id='patternRatioSlider' class=\"mdl-slider mdl-js-slider\" type=\"range\" min=\"10\" max=\"90\" value=\"50\" >\n\t\t\t\t</label>\n\t\t\t\t<div class='mdl-tooltip' for='patternRatioSlider'>\n\t\t\t\t\tSet size of inner image vs black border\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div style=\"justify-content: center\" class='mdl-grid'>\n\t\t\t<div class='mdl-cell mdl-cell--12-col'>\n\t\t\t\t<label class=\"mdl-js-ripple-effect\" for=\"imageSize\">\n\t\t\t\t\t<span class=\"\">Image size 512px</span>\n\t\t\t\t\t<input id='imageSize' class=\"mdl-slider mdl-js-slider\" type=\"range\" min=\"150\" max=\"2500\" value=\"512\" >\n\t\t\t\t</label>\n\t\t\t\t<div class='mdl-tooltip' for='patternRatioSlider'>\n\t\t\t\t\tSet the pixel width/height of the image.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div style=\"justify-content: center\" class='mdl-grid'>\n\t\t\t\t<div class='mdl-cell mdl-cell--12-col'>\n\t\t\t\t<label class=\"mdl-js-ripple-effect\" for=\"borderColor\">\n\t\t\t\t\t<span class=\"\">Border color. Please choose a dark one.</span>\n\t\t\t\t\t<input id='borderColor' type=\"text\" value=\"black\">\n\t\t\t\t</label>\n\t\t\t\t<div class='mdl-tooltip' for='borderColor'>\n\t\t\t\t\tSet the marker border color, using hexa code or color name.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\t<div class='mdl-cell mdl-cell--4-col'>\n\t\t<button id='buttonDownloadEncoded' class='mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent'(click)=\"downloadPattern()\">\n\t\t\tDownload Marker\n\t\t</button>\n\t\t<div class='mdl-tooltip' for='buttonDownloadEncoded'>\n\t\t\tDownload marker encoded from the uploaded image\n\t\t</div>\n\t\t<br/>\n\t\t<br/>\n\t\t<button id='buttonDownloadFullImage' class='mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent' (click)=\"downloadImage()\">\n\t\t\tDownload Image\n\t\t</button>\n\t\t<div class='mdl-tooltip' for='buttonDownloadFullImage'>\n\t\t\tDownload marker image\n\t\t</div>\n\t</div>\n\t\n</div>\n\n<div class='mdl-grid'>\n\n\t<div class='mdl-cell mdl-cell--3-col'></div>\n\t<div class='mdl-cell mdl-cfell--6-col'>\n\t\t<div id='imageContainer'></div>\n\t</div>\n\t<div class='mdl-cell mdl-cell--3-col'>\n\n\n\n\t\t\n\t</div>\n</div>\n\n\n\n\n</body>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ConvertImageComponent } from './convert-image.component';\n\nconst routes: Routes = [  {\n  path: '',\n  component: ConvertImageComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ConvertImageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ConvertImageRoutingModule } from './convert-image-routing.module';\nimport { DropzoneConfigInterface, DropzoneModule, DROPZONE_CONFIG } from 'ngx-dropzone-wrapper';\nimport { ConvertImageComponent } from './convert-image.component';\nimport { NgbActiveModal, NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from '../../shared/shared.module';\nconst DEFAULT_DROPZONE_CONFIG: DropzoneConfigInterface = {\n  maxFilesize: 50,\n  url: 'https://httpbin.org/post',\n};\n\n@NgModule({\n  declarations: [ConvertImageComponent],\n  imports: [\n    CommonModule,\n    ConvertImageRoutingModule,\n    NgbModule,\n    ReactiveFormsModule,\n    SharedModule,\n    DropzoneModule\n  ],\n  providers:[{ provide: DROPZONE_CONFIG,\n    useValue: DEFAULT_DROPZONE_CONFIG},\n    NgbActiveModal]\n})\nexport class ConvertImageModule { }\n"],"sourceRoot":"webpack:///"}