
<form [formGroup]="dynamicForm">
    <div class="container-fluid" >
        <div class="row product-adding">
            <div class="col-xl-6"  formArrayName="filters">
                <div class="card">
                    <div class="card-header">
                        <h5>General</h5>
                    </div>
                    <div class="card-body"       *ngFor="let filter of filtersFormArray.controls; let i = index;">
                        <div  class="digital-add needs-validation"  [formGroupName]="i" >
                            <div class="form-group">
                                <label for="validationCustom01" class="col-form-label pt-0"><span>*</span> Name</label>
                                <input class="form-control" id="validationCustom01" type="text" required="" formControlName="name">
                            </div>
                            <div class="form-group">
                                <label for="validationCustomtitle" class="col-form-label pt-0"><span>*</span>Marker Link</label>
                                <input class="form-control" id="validationCustomtitle" type="text" formControlName="link" >
                            </div>
                            <div class="form-group">
                                <label class="col-form-label" ><span>*</span> Annimation Type</label>
                                <select class="custom-select" required="" formControlName="annimationType">
                                    <option value="">--Select--</option>
                                    <option value="video">Video</option>
                                    <option value="text">Graphic 3D text Annimation</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="validationCustom02" class="col-form-label"><span>*</span> Redirect To link</label>
                                <input class="form-control" id="validationCustom02" type="text" required="" formControlName="redirectTo"> 
                            </div>
                           
                            <mat-icon 
                            (click)="removeFilterFromFiltersFormArray(i)">
                            Delete
                          </mat-icon> 
                        </div>
                    </div>
                    <label class="col-form-label pt-0"> Image Marker</label>
                    <div class="card-body dropzone-custom p-0">
                        <div class="dropzone dropzone-primary" [dropzone]="config1" (error)="onUploadError($event)"
                            (success)="onUploadSuccess($event)">
                            <div class="dz-message needsclick">
                                <i class="fa fa-cloud-upload"></i>
                                <h4 class="mb-0 f-w-600">Drop files here or click to upload.</h4>
                            </div>
                        </div>
                    </div>

                    <div class="product-buttons text-center">
                    <button 
                    class="btn btn-primary mr-1"
                    type="button" 
                    (click)="addFilterToFiltersFormArray()">
                    Add Annimation
                  </button>
                  <button 
                  class="btn btn-primary mr-1"
        [disabled]="dynamicForm.invalid || filtersFormArray.controls.length < 1"
        (click)="save()">
        Save
      </button>
                </div>
      
                </div>
            </div>
          
            <div class="col-xl-6">
               <div class="img-container">
    <img #image [src]="imageSource" crossorigin>
  </div>
  <img [src]="imageDestination" class="img-preview">
                <div class="card">
                  
                </div>
            </div>
        </div>
    </div>
    </form>